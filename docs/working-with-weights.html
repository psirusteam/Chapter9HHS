<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.4 Working with weights | CHAPTER 9: ANALYSIS OF HOUSEHOLD SURVEY DATA</title>
  <meta name="description" content="Chapter 9 of UN Household Survey Handbook" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="5.4 Working with weights | CHAPTER 9: ANALYSIS OF HOUSEHOLD SURVEY DATA" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Chapter 9 of UN Household Survey Handbook" />
  <meta name="github-repo" content="psirusteam/Chapter9HHS" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.4 Working with weights | CHAPTER 9: ANALYSIS OF HOUSEHOLD SURVEY DATA" />
  
  <meta name="twitter:description" content="Chapter 9 of UN Household Survey Handbook" />
  

<meta name="author" content="Andrés Gutiérrez, Pedro Luis do Nascimento Silva" />


<meta name="date" content="2024-12-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="linear-models.html"/>
<link rel="next" href="model-diagnostics.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Chapter 9 of UN Household Survey Handbook.</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="planning-analysis.html"><a href="planning-analysis.html"><i class="fa fa-check"></i><b>1</b> Planning Analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="primary-data-producers.html"><a href="primary-data-producers.html"><i class="fa fa-check"></i><b>1.1</b> Primary data producers</a></li>
<li class="chapter" data-level="1.2" data-path="secondary-data-users.html"><a href="secondary-data-users.html"><i class="fa fa-check"></i><b>1.2</b> Secondary Data Users</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="secondary-data-users.html"><a href="secondary-data-users.html#quality-control-for-secondary-analysts"><i class="fa fa-check"></i><b>1.2.1</b> Quality Control for Secondary Analysts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="accounting-for-the-sampling-design.html"><a href="accounting-for-the-sampling-design.html"><i class="fa fa-check"></i><b>2</b> Accounting for the sampling design</a>
<ul>
<li class="chapter" data-level="2.1" data-path="parameters-and-estimators.html"><a href="parameters-and-estimators.html"><i class="fa fa-check"></i><b>2.1</b> Parameters and estimators</a></li>
<li class="chapter" data-level="2.2" data-path="approaches-to-variance-estimation.html"><a href="approaches-to-variance-estimation.html"><i class="fa fa-check"></i><b>2.2</b> Approaches to Variance Estimation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="approaches-to-variance-estimation.html"><a href="approaches-to-variance-estimation.html#estimating-equations"><i class="fa fa-check"></i><b>2.2.1</b> Estimating equations</a></li>
<li class="chapter" data-level="2.2.2" data-path="approaches-to-variance-estimation.html"><a href="approaches-to-variance-estimation.html#ultimate-cluster-method"><i class="fa fa-check"></i><b>2.2.2</b> Ultimate Cluster Method</a></li>
<li class="chapter" data-level="2.2.3" data-path="approaches-to-variance-estimation.html"><a href="approaches-to-variance-estimation.html#bootstrap-method"><i class="fa fa-check"></i><b>2.2.3</b> Bootstrap Method</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="using-software-to-generate-valid-inferences.html"><a href="using-software-to-generate-valid-inferences.html"><i class="fa fa-check"></i><b>2.3</b> Using software to generate valid inferences</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="descriptive-parameters.html"><a href="descriptive-parameters.html"><i class="fa fa-check"></i><b>3</b> Descriptive parameters</a>
<ul>
<li class="chapter" data-level="3.1" data-path="frequencies-and-proportions.html"><a href="frequencies-and-proportions.html"><i class="fa fa-check"></i><b>3.1</b> Frequencies and proportions</a></li>
<li class="chapter" data-level="3.2" data-path="totals-means-and-ratios.html"><a href="totals-means-and-ratios.html"><i class="fa fa-check"></i><b>3.2</b> Totals, means and ratios</a></li>
<li class="chapter" data-level="3.3" data-path="correlations.html"><a href="correlations.html"><i class="fa fa-check"></i><b>3.3</b> Correlations</a></li>
<li class="chapter" data-level="3.4" data-path="percentiles-and-inequality-measures.html"><a href="percentiles-and-inequality-measures.html"><i class="fa fa-check"></i><b>3.4</b> Percentiles and inequality measures</a></li>
<li class="chapter" data-level="3.5" data-path="nso-practical-example.html"><a href="nso-practical-example.html"><i class="fa fa-check"></i><b>3.5</b> NSO – Practical example</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="associations-between-variables.html"><a href="associations-between-variables.html"><i class="fa fa-check"></i><b>4</b> Associations between variables</a>
<ul>
<li class="chapter" data-level="4.1" data-path="motivation-and-concepts.html"><a href="motivation-and-concepts.html"><i class="fa fa-check"></i><b>4.1</b> Motivation and concepts</a></li>
<li class="chapter" data-level="4.2" data-path="cross-tabulations.html"><a href="cross-tabulations.html"><i class="fa fa-check"></i><b>4.2</b> Cross-tabulations</a></li>
<li class="chapter" data-level="4.3" data-path="testing-for-independence.html"><a href="testing-for-independence.html"><i class="fa fa-check"></i><b>4.3</b> Testing for independence</a></li>
<li class="chapter" data-level="4.4" data-path="tests-for-group-comparisons.html"><a href="tests-for-group-comparisons.html"><i class="fa fa-check"></i><b>4.4</b> Tests for group comparisons</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="tests-for-group-comparisons.html"><a href="tests-for-group-comparisons.html#hypothesis-test-for-the-difference-of-means"><i class="fa fa-check"></i><b>4.4.1</b> Hypothesis Test for the Difference of Means</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="nso-practical-example-1.html"><a href="nso-practical-example-1.html"><i class="fa fa-check"></i><b>4.5</b> NSO – Practical example</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="regression-modelling-survey-data.html"><a href="regression-modelling-survey-data.html"><i class="fa fa-check"></i><b>5</b> Regression: modelling survey data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="to-weight-or-not-to-weight.html"><a href="to-weight-or-not-to-weight.html"><i class="fa fa-check"></i><b>5.1</b> To weight or not to weight?</a></li>
<li class="chapter" data-level="5.2" data-path="some-inferential-approaches-to-modelling-data.html"><a href="some-inferential-approaches-to-modelling-data.html"><i class="fa fa-check"></i><b>5.2</b> Some inferential approaches to modelling data</a></li>
<li class="chapter" data-level="5.3" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>5.3</b> Linear models</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="linear-models.html"><a href="linear-models.html#basic-definitions"><i class="fa fa-check"></i><b>5.3.1</b> Basic Definitions</a></li>
<li class="chapter" data-level="5.3.2" data-path="linear-models.html"><a href="linear-models.html#estimation-of-parameters"><i class="fa fa-check"></i><b>5.3.2</b> Estimation of Parameters</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="working-with-weights.html"><a href="working-with-weights.html"><i class="fa fa-check"></i><b>5.4</b> Working with weights</a></li>
<li class="chapter" data-level="5.5" data-path="model-diagnostics.html"><a href="model-diagnostics.html"><i class="fa fa-check"></i><b>5.5</b> Model Diagnostics</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="model-diagnostics.html"><a href="model-diagnostics.html#coefficient-of-determination"><i class="fa fa-check"></i><b>5.5.1</b> Coefficient of determination</a></li>
<li class="chapter" data-level="5.5.2" data-path="model-diagnostics.html"><a href="model-diagnostics.html#standardized-residuals"><i class="fa fa-check"></i><b>5.5.2</b> Standardized Residuals</a></li>
<li class="chapter" data-level="5.5.3" data-path="model-diagnostics.html"><a href="model-diagnostics.html#influential-observations"><i class="fa fa-check"></i><b>5.5.3</b> Influential Observations</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="inference-on-model-parameters.html"><a href="inference-on-model-parameters.html"><i class="fa fa-check"></i><b>5.6</b> Inference on Model Parameters</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="inference-on-model-parameters.html"><a href="inference-on-model-parameters.html#estimation-and-prediction"><i class="fa fa-check"></i><b>5.6.1</b> Estimation and Prediction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>6</b> Tables</a>
<ul>
<li class="chapter" data-level="6.1" data-path="presentation-tables.html"><a href="presentation-tables.html"><i class="fa fa-check"></i><b>6.1</b> Presentation tables</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="presentation-tables.html"><a href="presentation-tables.html#example-of-presentation-table-and-corresponding-text---include-in-a-box."><i class="fa fa-check"></i><b>6.1.1</b> Example of presentation table and corresponding text - include in a box.</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="reference-tables.html"><a href="reference-tables.html"><i class="fa fa-check"></i><b>6.2</b> Reference tables</a></li>
<li class="chapter" data-level="6.3" data-path="low-quality-estimates.html"><a href="low-quality-estimates.html"><i class="fa fa-check"></i><b>6.3</b> Low-Quality Estimates</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>7</b> Data visualization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="bar-charts.html"><a href="bar-charts.html"><i class="fa fa-check"></i><b>7.1</b> Bar charts</a></li>
<li class="chapter" data-level="7.2" data-path="histograms.html"><a href="histograms.html"><i class="fa fa-check"></i><b>7.2</b> Histograms</a></li>
<li class="chapter" data-level="7.3" data-path="scatter-plots.html"><a href="scatter-plots.html"><i class="fa fa-check"></i><b>7.3</b> Scatter Plots</a></li>
<li class="chapter" data-level="7.4" data-path="nso-practical-example-2.html"><a href="nso-practical-example-2.html"><i class="fa fa-check"></i><b>7.4</b> NSO – Practical example</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a Chapter 9 of UN Household Survey Handbook. </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CHAPTER 9: ANALYSIS OF HOUSEHOLD SURVEY DATA</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-weights" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Working with weights<a href="working-with-weights.html#working-with-weights" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When analyzing data from complex surveys, a critical question arises: how should survey weights be used in regression models? <span class="citation">Steven G. Heeringa, West, and Berglund (<a href="#ref-Heeringa_West_Berglund_2017">2017a</a>)</span> addresses the problem of how to correctly weight regression models and whether expansion factors should be used to estimate regression coefficients when working with complex survey data. In this context, two main approaches exist for incorporating weights into regression models when working with complex survey data:</p>
<p>First, the <strong>design-based approach</strong> focuses on making inferences about the entire population. Here, survey weights are essential to ensure unbiased estimates of the regression coefficients. These weights account for the survey design, including unequal probabilities of selection. However, this approach has a limitation: it does not protect against model misspecification. If the model does not correctly describe the relationships in the population, the estimates will still be unbiased for the specified model but not necessarily meaningful for the population. If the researcher fits a poorly specified model, unbiased estimates of the regression parameters would be obtained in a model that does not correctly describe the relationships in the finite population.</p>
<p>In contrast, the <strong>model-based approach</strong> argues that weights are unnecessary if the model is correctly specified for the sample, and the sampling is non-informative. This approach assumes that the relationships between the variables are well-represented by the model, regardless of the sampling design. Using weights in this case can increase the variability of the estimates, leading to unnecessarily larger standard errors.</p>
<p>The choice between these two approaches depends on the context and the sensitivity of the inferences to the inclusion of weights. A practical recommendation is to fit regression models both with and without weights using statistical software and compare the results. If including weights leads to significant changes in the regression coefficients or conclusions, it indicates that either the model may not be correctly specified or the sampling was informative, and therefore weighted estimates should be preferred. On the other hand, if weights only increase the standard errors without altering the coefficients meaningfully, the model is likely well-specified, and weights may not be necessary.</p>
<p>To address the challenges of using raw sampling weights, several adjustments have been proposed to balance accuracy and efficiency. Some are listed below:</p>
<ol style="list-style-type: decimal">
<li><strong>Senate Sampling Weights</strong>: This approach scales weights so that the sum of the weights equals the sample size rather than the population size. The goal is to retain representativeness while reducing the variability of weights. This adjustment is particularly useful in large samples where the raw weights are excessively variable. This approach preserves relative differences in weights.</li>
</ol>
<p><span class="math display">\[
w^{\text{Senate}}_k = w_k \times \frac{n}{\sum w_k}
\]</span></p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Normalized Weights</strong>: these weights are used to rescale the raw weights to sum to 1. This adjustment ensures that the overall weight does not inflate variances unnecessarily. This approach is useful when comparing models with different subsets of data or when variance inflation is a concern.</li>
</ol>
<p><span class="math display">\[
w^{\text{Normalized}}_k = \frac{w_k}{\sum w_k}
\]</span></p>
<ol start="3" style="list-style-type: decimal">
<li><strong>Pfeffermann Model Weights</strong>: this approach incorporates weights into the likelihood function of the regression model, allowing the model to use weights adaptively. This method combines the benefits of weighting and model-based inference. This approach also adjusts for the variability introduced by weights while retaining design-based properties. It is ideal for models requiring both descriptive and analytical inference.</li>
</ol>
<p>The third solution (called the <em>q-weighted approach</em>) was proposed by <span class="citation">Pfeffermann (<a href="#ref-pfeffermann2011modelling">2011</a>)</span> who suggested a slightly different specification of the weights. This adjustment modifies the original weights to reflect the relationships in the data more accurately, reducing variability while still accounting for the complex survey design. It also balance the benefits of both design- and population-based approaches. The steps in this approach are as follows:</p>
<ol style="list-style-type: decimal">
<li><p>A regression model is fitted to the original survey weights, using the predictor variables in the primary regression model of interest.</p></li>
<li><p>Predicted survey weights are obtained for each case based on the predictor variables.</p></li>
<li><p>The original survey weights are divided by these predicted weight values, creating adjusted weights.</p></li>
<li><p>These adjusted weights are then used in the final regression model.</p></li>
</ol>
<p>The q-weighted approach provides a middle ground. It retains the benefits of the design-based approach by incorporating survey weights but reduces the variance typically associated with their use. At the same time, it considers the relationships captured by the model, aligning more closely with the model-based perspective. This makes it particularly useful for situations where the choice between the two paradigms is unclear or when both perspectives have merit.</p>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Heeringa_West_Berglund_2017" class="csl-entry">
Heeringa, Steven G., Brady T. West, and Patricia A. Berglund. 2017a. <em>Applied Survey Data Analysis</em>. Chapman and Hall CRC Statistics in the Social and Behavioral Sciences Series. CRC Press.
</div>
<div id="ref-pfeffermann2011modelling" class="csl-entry">
Pfeffermann, Danny. 2011. <span>“Modelling of Complex Survey Data: Why Model? Why Is It a Problem? How Can We Approach It?”</span> <em>Survey Methodology</em> 37 (2): 115–36.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="linear-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="model-diagnostics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psirusteam/Chapter9HHS/05Regression.rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Chapter 9.pdf", "Chapter 9.epub", "Chapter 9.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"tconfig": null
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
