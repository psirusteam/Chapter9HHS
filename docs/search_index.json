[["index.html", "CHAPTER 9: ANALYSIS OF HOUSEHOLD SURVEY DATA Abstract", " CHAPTER 9: ANALYSIS OF HOUSEHOLD SURVEY DATA Andrés Gutiérrez1, Pedro Luis do Nascimento Silva2 2024-09-11 Abstract Analyzing complex household survey data requires knowing and properly applying the foundations of the design-based inference. The researcher will be faced to a small database that contains specific information that will allow her to make conclusions over the whole population. The purpose of any analysis on this kind of datasets is not referred to make conclusions on the sample itself – which in most of the cases is a small subgroup of the population - but to the domains of interest and the whole population. Having that into account, the first step in any analysis plan should be devoted to defining the sampling design based on the selection mechanisms used to draw the final sample and the findings on the field related to nonresponse and lack of coverage. The chapter covers three main topics of analysis: descriptive statistics; comparisons and association; and modeling of survey data. On the one hand, we introduce simple descriptive statistics, such as totals, frequencies, means and proportions, quantiles and some graphics; on the other, we delve deeper on complex relationships between the variables of the survey. All these analyses rely on the representativity principle of the design-based inference. This way, the reader will find a strong focus, not only on point estimates, but also on uncertainty measures. The chapter also presents a short discussion on the different approaches that can be used to estimate variances; the best way to visualize the estimates; and NSO practical experiences. Comisión Económica para América Latina y el Caribe (CEPAL) - andres.gutierrez@cepal.org↩︎ SCIENCE, pedronsilva@gmail.com↩︎ "],["introduction.html", "Introduction", " Introduction A key concern of every agency that produces statistical information is with the correct use of the data that it produces. This is even reflected in the United Nations Fundamental Principles of Official Statistics, namely: Principle 3. To facilitate a correct interpretation of the data, the statistical agencies are to present information according to scientific standards on the sources, methods and procedures of the statistics. Principle 4. The statistical agencies are entitled to comment on erroneous interpretation and misuse of statistics. Here we emphasize a particular aspect, aiming to empower users when analysing household survey data. The computer revolution, with the resulting ease of access computers, created favorable conditions for the increased use of statistical data, including those resulting from household sample surveys. Sometimes this data is used for purely descriptive purposes. Other times, however, its use is made for analytical purposes, involving the testing of hypothesis or the construction of models, when the objective is to draw conclusions that are also applicable to populations other than the one from which the sample was extracted. In such cases, standard statistical software may provide biased or misleading results. This chapter’s purpose is to present the relevant models, methods and software to enable users to account for the complex survey design frequently used to conduct household sample surveys when analysing the resulting data. What makes such data special for those who intend to use them for analytical purposes? The answer is that they are obtained through complex sample surveys of finite populations that often involve: stratification, clustering of units of analysis, unequal probabilities of selection, and weighting adjustments to compensate for non-response and/or improve precision. Standard data analysis methods and software typically ignore these aspects, and may produce biased estimates of both the target parameters and the variances of these estimates. In this chapter we analyze the impact of simplifications made when using standard data analysis methods and software, and present the necessary adjustments to these procedures in order to appropriately incorporate the aspects highlighted here into the analysis. In section 9.1, a short discussion on the fundamental principles of the design-based inference is presented, emphasizing that conclusions taken from probability sample surveys should be based on a pair: the point estimate and it associated margin of error (or any related measure). In section 9.2, we begin the journey with simple descriptive statistics: means, ratios, proportions and other typical descriptive parameters. Section 9.3 is devoted to more complex parameters that allow comparisons of the phenomenon of interest between subgroups for continuous and discrete variables. In this section we present standard tests to compare means and measure the degree of association between variables, and also consider the problem of correlation and association. Section 9.4 focuses on modelling survey outcomes. We first involve the reader in an discussion on the role of weighting when estimating regression coefficients. Then, we introduce some proper approaches to estimate complex parameters in linear and logistic regression models. Finally, section 9.5 presents a summary of ideas and tools for survey data visualization showing the best practices for creating graphics and maps in a context where uncertainty measures of estimates are important. Most of the sections in the chapter present national experiences that will guide the reader on how NSOs are dealing with the different stages of the analysis of household survey data. The purpose of this chapter is defining and explaining basic concepts of the design-based paradigm in household surveys to analyze complex household survey data. In section 9.1, a short discussion on the fundamental principles of the design-based inference is presented, emphasizing that conclusions taken from this kind of surveys should be based on a pair: the point estimate and it associated margin of error (or any related measure). In section 9.2, we begin the journey with simple descriptive statistics: means, ratios, proportions and other parameters are part of this discussion. Section 9.3 is devoted to more complex parameters that allow comparisons of the phenomenon of interest between subgroups for continuous and discrete variables. In this section we present standard tests to compare means and measure the degree of association between variables. This section also deals with the problem of correlation and association. Section 9.4 focuses on modelling survey outcomes. We first involve the reader in an discussion on the role of weighting when estimating regression coefficients. Then, we introduce some proper approaches to estimate complex parameters in linear and logistic regression models. Finally, section 9.5 presents a summary on survey data visualization showing the best practices for creating graphics and maps in a context where uncertainty measures of estimates are important. Most of the sections in the chapter present national experiences that will guide the reader on how currently NSOs are dealing with the different stages of the analysis of household survey data. "],["the-golden-pair-sample-design-and-estimator.html", "1 The golden pair: sample design and estimator", " 1 The golden pair: sample design and estimator Defining the survey design is crucial for analyzing complex survey data. We must make sure that PSU, strata, and weights are available in the database. When not available, the database should contain replicate weights, or the researcher should have a valid expression to compute variance estimates. Defining the sample design is crucial for design-based inference and analysis, ensuring accuracy, precision, and consistency. A well-defined survey design facilitates statistical analysis, supports effective data interpretation, and enables meaningful insights into complex phenomena. Accounting for the sampling design is crucial for analyzing complex survey data. We must ensure that PSU, strata, and weights are available in the survey dataset. Alternatively, when not available, the dataset should at least contain replicate weights, or the analyst should have clear guidance on how to compute variance estimates. A well-described survey design facilitates statistical analysis, supports effective data interpretation, and enables meaningful insights into complex phenomena. Missing or incorrect design information may lead to biased estimates and misleading conclusions. "],["parameters-and-estimators.html", "1.1 Parameters and estimators", " 1.1 Parameters and estimators Based on the design-based approach this section will discuss the basic principles of inductive inference and how, using the sampling weights (from chapter 8), we can get unbiased estimators for population parameters, with a special focus on totals and means. Under a design-based approach this section presents the basic principles of inductive inference and how, using the sampling weights (from chapter 8), we can get unbiased (or at least consistent) estimators for population parameters, with a special focus on totals and means. Let \\(U = \\left\\{ 1, \\ldots, N \\right\\}\\) denote elementary units in our target population, and \\(y_i\\) the value of a survey variable of interest observed for any unit \\(i\\) in \\(U\\). Let \\(Y = \\sum _{i \\in U} y_i\\) and \\(\\overline Y = \\frac 1 N \\sum _{i \\in U} y_i = \\frac Y N\\) denote the population total and mean of the survey variable \\(y\\). A probability sample \\(s = \\left\\{ i_1, \\ldots, i_n \\right\\} \\subset U\\) is selected from the population \\(U\\) using a probability sampling design \\(p(s)\\), that ensures strictly positive first order inclusion probabilities \\(\\pi_i = Pr(i \\in s), \\, \\forall \\, i \\in U\\). These inclusion probabilities are assumed known, at least to the data producers. Under the design-based framework for inference, an unbiased estimator for the population total \\(Y\\) is the Horvitz-Thompson estimator given by \\[ \\widehat Y _{HT} = \\sum _{i \\in s} \\frac {y_i} {\\pi_i} = \\sum _{i \\in s} d_i {y_i} \\] where \\(d_i = 1 / \\pi_i \\, \\forall \\, i \\in s\\). The sampling variance of \\(\\widehat Y _{HT}\\) is given by: \\[ V_p \\left( \\widehat{Y}_{HT} \\right) = \\sum_{i \\in U} \\sum_{j \\in U} \\left( \\frac {d_i d_j} {d_{ij}} - 1 \\right) y_i y_j \\] where \\(d_{ij} = 1 / \\pi_{ij}\\) and \\(\\pi_{ij} = Pr(i,j \\in s), \\, \\forall \\, i,j \\in U\\). This result assumes that the sampling design \\(p(s)\\) is such that \\(\\pi_{ij} &gt; 0 \\,\\, \\forall \\, i,j \\in U\\). This variance can be estimated unbiasedly by \\[ \\widehat {V_p} \\left( \\widehat{Y}_{HT} \\right) = \\sum_{i \\in s} \\sum_{j \\in s} \\left( d_i d_j - d_{ij} \\right) y_i y_j \\] When the population size \\(N\\) is known, the population mean can be estimated unbiasedly using the Horvitz-Thompson estimator: \\[ \\overline y_{HT} = \\frac 1 N \\widehat Y _{HT} = \\frac 1 N \\sum_{i \\in s} d_i y_i \\] An alternative estimator, useful when \\(N\\) is unknown, but also because it may have smaller variance, is the Hàjek estimator of the mean given by: \\[ \\overline y_{H} = \\frac {\\widehat Y _{HT}} {\\widehat N _{HT}} = \\frac {\\sum_{i \\in s} d_i y_i} {\\sum_{i \\in s} d_i} \\] The variance of the Horvitz-Thompson estimator for the mean is given by: \\[ V_p \\left( \\overline y_{HT} \\right) = \\frac {1} {N^2} \\sum_{i \\in U} \\sum_{j \\in U} \\left( \\frac {d_i d_j} {d_{ij}} - 1 \\right) y_i y_j \\] and the corresponding estimator is \\[ \\widehat {V_p} \\left( \\overline y_{HT} \\right) = \\frac {1} {N^2} \\sum_{i \\in s} \\sum_{j \\in s} \\left( d_i d_j - d_{ij} \\right) y_i y_j \\] A variância do estimador \\(\\overline y_{H}\\) pode ser estimada usando: \\[ \\widehat {V_p} \\left( \\overline y_{H} \\right) = \\frac {1} {\\widehat N^2 _{HT}} \\sum_{i \\in s} \\sum_{j \\in s} \\left( d_i d_j - d_{ij} \\right) (y_i - \\overline y_{H}) (y_j - \\overline y_{H}) \\] While the above formulae for variance estimation are general and cover the vast majority of sample designs used in the practice of household sample surveys, they are not used in practice because often the second order inclusion probabilities \\(\\pi_{ij}\\) (and corresponding pairwise weights \\(d_{ij}\\)) are unknown to survey data analysts. In fact, even data producers do not compute such weights, since there are more efficient methods for variance estimation that do not require having such weights. "],["uncertainty-in-household-surveys.html", "1.2 Uncertainty in household surveys", " 1.2 Uncertainty in household surveys As the sample is a small subset of the population, we show the importance of generating not only point estimates, but also related uncertainty measures. In this subsection we will present some approaches for variance estimation: exact and approximate formulas (ultimate cluster) for variances of totals; and Taylor linearization for means, ratios and other parameters. We also introduce replication methods and generalized variance functions, which are essential in the cases when PSU or strata are missing from the database. As the sample is typically a small subset of the population, we show the importance of generating not only point estimates, but also related uncertainty measures. In this subsection we will present some approaches for variance estimation: exact and approximate formulas (ultimate cluster) for variances of totals; and Taylor linearization for means, ratios and other parameters. We also introduce replication methods and generalized variance functions, which are essential in the cases when PSU or strata are missing from the database. A unifying idea of sampling theory is that of estimating equations (Binder 1983). Many population parameters can be written/obtained as solutions of population estimator equations. A generic population estimator equation is given by: \\[ \\sum _{i \\in U} z_i (\\theta) = 0 \\] where \\(z(\\bullet)\\) is an estimator function* and \\(\\theta\\) is a population parameter of interest. Consider the case of the population total. Take \\(z_i(\\theta) = y_i - \\theta/N\\). Therefore, the corresponding population estimation equation is given by: \\[ \\sum _{i \\in U} (y_i - \\theta / N) = 0 \\] Solving for \\(\\theta\\) gives the population total: \\[ \\theta_U = \\sum _{i \\in U} y_i \\ = \\ Y \\] Consider the case of the population mean. Take \\(z_i(\\theta) = y_i - \\theta\\). In this case, the corresponding population estimation equation is given by: \\[ \\sum _{i \\in U} (y_i - \\theta) = 0 \\] Solving for \\(\\theta\\) gives the population mean: \\[ \\theta_U = \\sum _{i \\in U} y_i / N \\ = \\ \\overline Y \\] As a final example, consider the ratio of population totals. Taking \\(z_i(\\theta) = y_i - \\theta x_i\\), the corresponding population estimation equation is given by: \\[ \\sum _{i \\in U} (y_i - \\theta x_i) = 0 \\] Solving for \\(\\theta\\) gives the population ratio: \\[ \\theta_U = \\sum _{i \\in U} y_i / \\sum _{i \\in U} x_i \\ = \\ R \\] The idea of defining population parameters as solutions to population estimating equations allows defining a general method for obtaining corresponding sample estimators. It is a matter of using the sample estimating equations: \\[ \\sum _{i \\in s} d_i \\, z_i (\\theta) = 0 \\] where \\(d_i\\) is the sampling weight of the unit \\(i\\). Under probability sampling and with \\(d_i = 1 / \\pi_i\\), the sample sum in the sample estimating equation is unbiased towards the population sum in the corresponding population estimating equation. Solving the sample estimating equation yields unbiased or at least consistent estimators for the corresponding population parameters. In the case of the population mean: \\[ \\sum _{i \\in s} d_i (y_i - \\theta) = 0 \\] yields, by solving on \\(\\theta\\), the Hàjek estimator: \\[ \\widehat \\theta = \\sum _{i \\in s} d_i \\, y_i \\, / \\sum _{i \\in s} d_i = \\overline y_H \\] In the case of the population ratio, solving \\[ \\sum _{i \\in s} d_i (y_i - \\theta x_i) = 0 \\] on \\(\\theta\\), yields the well-known estimator: \\[ \\widehat \\theta = \\sum _{i \\in s} d_i \\, y_i \\, / \\sum _{i \\in s} d_i \\, x_i= \\widehat R \\] The variance of estimators obtained as solutions of sample estimating equations can be obtained as: \\[ V_p (\\widehat \\theta) \\doteq \\left[ J (\\theta_U) \\right] ^{-1} V_p \\left[ \\sum _{i \\in s} d_i \\, z_i (\\theta_U) \\right] \\left[ J (\\theta_U) \\right] ^{-1} \\] where \\(J (\\theta_U) = \\sum _{i \\in U} \\left[ \\partial{z_i (\\theta)} / \\partial \\theta \\right]_{\\theta = \\theta_U}\\), and \\(\\theta_U\\) is the solution of the corresponding population estimating equation. A consistent estimator of this variance is given by: \\[ \\widehat V_p (\\widehat \\theta) = \\left[ \\widehat J ( \\widehat \\theta) \\right] ^{-1} \\widehat V_p \\left[ \\sum _{i \\in s} d_i \\, z_i (\\widehat \\theta)\\right] \\left[ \\widehat J ( \\widehat \\theta) \\right] ^{-1} \\] where \\(\\widehat J (\\widehat \\theta) = \\sum _{i \\in s} d_i \\, \\left[ \\partial{z_i ( \\theta)} / \\partial \\theta \\right]_{\\theta = \\widehat \\theta}\\). This overall result allowed the development of software such as the R survey package, the Stata svy functions and others. Most of the estimators and corresponding estimates of variance available result from the implementation of this approach. In some cases, sample replication methods (bootstrap, jackknife) can also be used to estimate variances, as we will see later. References "],["using-software-to-generate-valid-inferences.html", "1.3 Using software to generate valid inferences", " 1.3 Using software to generate valid inferences In this part, we advocate to using specialized statistical software to generate efficient estimation processes. Those packages support complex survey data analysis by specifying the survey design using appropriate commands or functions. "],["descriptive-parameters.html", "2 Descriptive parameters", " 2 Descriptive parameters When analyzing complex survey data, several descriptive parameters are meaningful and important. For example: poverty and unemployment rates are simple parameters that allow decision-making for governments; also, income distribution can be used to monitor inequality along time. "],["frequencies.html", "2.1 Frequencies", " 2.1 Frequencies Considering survey weights assigned to each respondent helps provide estimates that are representative of the target population. "],["means-proportions-and-ratios.html", "2.2 Means, proportions, and ratios", " 2.2 Means, proportions, and ratios These measures of central tendency provide insights into the average or typical response within the data. "],["percentiles-and-inequality-measures.html", "2.3 Percentiles and inequality measures", " 2.3 Percentiles and inequality measures For continuous data, these measures divide the data into intervals, indicating the proportion of data points below a certain value, and are particularly useful for understanding distributions and identifying outliers. Also, the section will cover the estimation of the Gini inequality index. "],["nso-practical-example.html", "2.4 NSO – Practical example", " 2.4 NSO – Practical example In this subsection a NSO will share how they do disseminate its results on basic descriptive statistics, how they publish the resulting tables and how do they deal with the suppression of estimates that do not reach expected quality. "],["comparisons-and-association.html", "3 Comparisons and association", " 3 Comparisons and association Elaborate analyses of household survey data must be adjusted for the complex survey design to account for clustering, stratification, and weighting. This section will introduce the reader on the main methods currently used to compare subgroups and make conclusions based on a valid inferential context. "],["cross-tabulations.html", "3.1 Cross-tabulations", " 3.1 Cross-tabulations We first examine the relationship between two or more variables by creating contingency tables, which reveal how responses vary across different categories. "],["tests-for-group-comparisons.html", "3.2 Tests for group comparisons", " 3.2 Tests for group comparisons To determine whether the means of two groups are significantly different we will introduce t-test and contrasts adjusted for the sampling design. "],["tests-of-independence.html", "3.3 Tests of Independence", " 3.3 Tests of Independence To measure the level of association between categorical variables we present the Rao-Scott correction for the Pearson Chi-squared test of independence. "],["correlation.html", "3.4 Correlation", " 3.4 Correlation To conclude on the degree of association between variables, we show the proper approach to include sampling weights and complex sampling design. "],["nso-practical-example-1.html", "3.5 NSO – Practical example", " 3.5 NSO – Practical example In this part an NSO will share its experiences on dealing with statistical comparisons among groups and how do they present the results in tables. "],["regression-modelling-survey-data.html", "4 Regression: modelling survey data", " 4 Regression: modelling survey data Modelling survey data is a common task among researcher; some of them include the features of the sampling design in computing standard error of the estimated regression parameters. In this section we will deal with the problem of weighting in regression models and present a parsimonious solution. "],["to-weight-or-not-to-weight.html", "4.1 To weight or not to weight?", " 4.1 To weight or not to weight? We present the pros and cons of including the complex design features in the estimation of regression parameters and their associated standard errors. We present some adjustment to the sampling weights to fit these kind of models (senate sampling weights, normalized sampling weights, Pfeffermann model weights). "],["some-inferential-approaches-to-modelling-data.html", "4.2 Some inferential approaches to modelling data", " 4.2 Some inferential approaches to modelling data When modelling survey data, one should deal with two sources of variability: the one devoted to the complex sampling design and the one that comes from the very model. Combining these sources into a valid set up requires of some advanced methods. We will mention some of them: pseudo likelihood, combined inference. "],["linear-models.html", "4.3 Linear models", " 4.3 Linear models We present a primer of linear models and estimation of regression coefficients along with their standard errors. Also, this subsection will introduce basic tools to model diagnosis. "],["logistic-models.html", "4.4 Logistic models", " 4.4 Logistic models To model the probability of discrete variables, we apply the principles of design-based inference. "],["nso-practical-example-2.html", "4.5 NSO – Practical example", " 4.5 NSO – Practical example In this subsection, we will share the experience of an NSO in applying models to household survey data, and the results they present in terms of significance of models and relations among variables. "],["data-visualization.html", "5 Data visualization", " 5 Data visualization In this section we delve deeper on how to present the results of the analysis of household surveys using graphics. This part is important because household surveys estimates are subject to error and the researcher should face this challenge on presenting not only point estimates, but also standard errors. "],["weighted-histograms.html", "5.1 Weighted Histograms", " 5.1 Weighted Histograms To visualize the distribution of continuous variables, adjusted for survey weights. "],["bar-charts.html", "5.2 Bar Charts", " 5.2 Bar Charts To display the distribution of categorical variables with standard errors. "],["box-plots.html", "5.3 Box Plots", " 5.3 Box Plots To show the distribution of continuous variables, including measures of central tendency, variability, and outliers, across different groups or strata. "],["scatter-plots.html", "5.4 Scatter Plots", " 5.4 Scatter Plots To explore the relationship between two continuous variables, potentially revealing patterns or trends in survey data. "],["maps.html", "5.5 Maps", " 5.5 Maps To display the behavior of the interest variable across geographical domains. "],["nso-practical-example-3.html", "5.6 NSO – Practical example", " 5.6 NSO – Practical example In this subsection we will include the experience of a NSO on displaying information through graphics. "],["other-modeling-scenarios.html", "6 Other modeling scenarios", " 6 Other modeling scenarios In this section we indicate the literature and software supporting the fitting of some other models to complex household survey data, including: "],["multilevel-models.html", "6.1 Multilevel models", " 6.1 Multilevel models "],["survival-models.html", "6.2 Survival models", " 6.2 Survival models "],["loglinear-models-for-contingency-tables.html", "6.3 Loglinear models for contingency tables", " 6.3 Loglinear models for contingency tables "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
